function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequire5df6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},t.parcelRequire5df6=a);var s=a.register;s("40Z8U",function(t,n){e(t.exports,"PixelButton",function(){return a("iN9TH").PixelButton}),e(t.exports,"StatefulLoadingContainer",function(){return a("4JK8w").StatefulLoadingContainer}),a("iN9TH"),a("4JK8w")}),s("iN9TH",function(t,n){e(t.exports,"PixelButton",function(){return i});class i extends HTMLButtonElement{#e;constructor(e){super(),this.#e=e}connectedCallback(){let e=document.createElement("p");e.innerText=this.#e;let t=document.createElement("div");t.appendChild(e),this.appendChild(t),this.classList.add("pixel-button")}}}),s("4JK8w",function(t,n){e(t.exports,"StatefulLoadingContainer",function(){return s});var i=a("ib4oJ");class s extends HTMLElement{#t="false"!==this.dataset.loading;#n=new i.Boutique({});#i=this.#n.createRedaction((e,t)=>{Object.assign(e,t)});#a={keyframes:[{opacity:1},{opacity:0}],options:{easing:"ease-out",duration:300},reverse:{direction:"reverse"}};constructor(){super()}connectedCallback(){this.dataset.loading?.match(/^true$|^false$/)||(this.dataset.loading=(!0).toString());let e=document.createElement("div");e.classList.add("loading","loading-container");let t=document.createElement("p");t.innerText=this.dataset.text||"Loading...";let n=document.createElement("div");n.classList.add("pixel-container","loading-bar");let i=document.createElement("div");i.classList.add("pixel-container","loading-bounce"),n.appendChild(i),e.append(t,n);let a=document.createElement("div");a.classList.add("content"),this.classList.add("stateful-loading-container"),this.append(e,a)}load(e){return new Promise(t=>{let{keyframes:n,options:i,reverse:a}=this.#a,s=()=>{this.contentContainer.replaceWith(e),this.contentContainer.animate(n,{...i,...a}).addEventListener("finish",()=>{t({})})};this.loading?this.loadingContainer.animate(n,i).addEventListener("finish",()=>{this.loading=!1,s()}):this.contentContainer.animate(n,i).addEventListener("finish",s)})}unload(){return new Promise(e=>{this.loading&&e({});let{keyframes:t,options:n,reverse:i}=this.#a;this.contentContainer.animate(t,n).addEventListener("finish",()=>{this.loading=!0,this.loadingContainer.animate(t,{...n,...i}).addEventListener("finish",()=>{e({})})})})}redact(e){this.#i(e)}get loading(){return this.#t}set loading(e){this.dataset.loading=e.toString(),this.#t=e}get loadingContainer(){return this.getElementsByClassName("loading")[0]}get contentContainer(){return this.getElementsByClassName("content")[0]}get createRedaction(){return this.#n.createRedaction.bind(this.#n)}get createListener(){return this.#n.createListener.bind(this.#n)}get addListener(){return this.#n.addListener.bind(this.#n)}get removeListener(){return this.#n.removeListener.bind(this.#n)}get state(){return this.#n.state}static contentContainer(){let e=document.createElement("div");return e.classList.add("content"),e}}}),s("ib4oJ",function(t,n){e(t.exports,"Boutique",function(){return i});class i{constructor(e){this.evs={},this.state=e}createRedaction(e){return t=>{let{state:n,tracer:i}=this.proxy;this.redact(i,e(n,t))}}createListener(e){let{state:t,tracer:n}=this.proxy;return e(t),{func:n=>e(t,n)(),deps:n.map(e=>e.key)}}addListener(e){e.deps.forEach(t=>{this.evs[t]=[...this.evs[t]||[],e]})}removeListener(e){e.deps.forEach(t=>{this.evs[t]=this.evs[t].filter(t=>t!==e)})}redact(e,t,n=[]){e.forEach(e=>{if(e.value){let t=this.state;e.key.split(".").slice(1).reduce((i,a,s,r)=>(s!==r.length-1?t=t[a]||{}:t[a]=e.value,i=`${i}.${a}`,n.push(...this.evs[i]||[]),i),"")}}),[...new Set(n)].forEach(e=>e.func(t))}handler(e,t=""){return{get:(n,i)=>{let a=`${t}.${i}`;t&&a.includes(e[0].key)?e.splice(0,1,{key:a}):e.unshift({key:a});let s=n[i];return"object"!=typeof s?s:new Proxy(s,this.handler(e,a))},set:(n,i,a)=>!!e.push({key:`${t}.${i}`,value:a})}}get proxy(){let e=[];return{state:new Proxy(this.state,this.handler(e)),tracer:e}}}}),s("hyrY4",function(t,n){e(t.exports,"runSelector",function(){return r}),a("40Z8U");var i=a("iN9TH"),s=a("4JK8w");let r=e=>{let{dailyPuzzles:t}=e.state,n=(0,s.StatefulLoadingContainer).contentContainer();for(let a in t){let s=new i.PixelButton(a.toUpperCase());s.addEventListener("click",()=>{history.replaceState({page:"home"},""),history.pushState({},""),e.redact({serializedPuzzle:t[a][0]})}),n.appendChild(s)}e.load(n)}}),a("40Z8U");var r=a("iN9TH"),o=a("4JK8w"),d=a("hyrY4");customElements.define("pixel-button",r.PixelButton,{extends:"button"}),customElements.define("stateful-loading-container",o.StatefulLoadingContainer),(()=>{let e=!1,t=()=>{e?document.body.classList.remove("hoverable"):document.body.classList.add("hoverable")};document.addEventListener("touchstart",()=>{e=!0,t()}),document.addEventListener("mousemove",()=>{t(),e=!1}),t()})();const l=document.createElement("nav");l.classList.add("pixel-container");const c=new r.PixelButton("Sign In"),u=new r.PixelButton("Sign Up");l.append(c,u);const h=new o.StatefulLoadingContainer;h.id="root",h.classList.add("pixel-container"),document.body.append(l,h),window.addEventListener("popstate",e=>{if(e&&e.state){let{page:t}=e.state;(0,d.runSelector)(h)}});
//# sourceMappingURL=index.01aa0b8a.js.map
